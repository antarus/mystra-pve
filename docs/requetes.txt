-- pour les loots d'un personnage appartenant a un roster

-- select la limation des 2 palliers max autorisé
select idModeDifficulte, idZone, idRoster from pallierAfficher where idRoster = 1 order by idModeDifficulte ;

-- pour les loots d'un personnage appartenant a un roster
select idModeDifficulte, idZone, idRoster from pallierAfficher where idRoster in (table_has_personnage) order by idModeDifficulte ;

-- requete ok 
select ipr.idItem, ipr.idRaid,ipr.idPersonnage, ro.idRoster as roster, m.idMode, z.idZone
from item_personnage_raid ipr
inner join raids r on r.idRaid=ipr.idRaid
inner join zone z on z.idZone=r.idZoneTmp
inner join mode_difficulte m on m.idMode=r.idMode
inner join roster ro on ro.idRoster=r.idRosterTmp
inner join personnages p on p.idPersonnage=ipr.idPersonnage
where (p.nom ='antaruss' and p.royaume='garona')
-- if pallier 
and 
-- fi
-- if pallier > 1
(
-- fi
-- for palliers as pallier
-- affiche pallier 
(m.idMode = pallier['idPallier'] and z.idZone = pallier['z.idZone'] and ro.idRoster = pallier['z.idRoster'])
-- if has suivant
or 
-- fi
);
-- end for
